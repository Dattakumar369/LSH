const mavenBuildLifecycle = {
  id: 'maven-build-lifecycle',
  title: 'Maven Build Lifecycle',
  description: 'Understand Maven\'s build lifecycle and phases',
  courseTitle: 'Maven',
  sectionTitle: 'Maven Basics',
  content: `
# Maven Build Lifecycle

Maven has a well-defined build lifecycle. Understanding this lifecycle is crucial for using Maven effectively. It's like a recipe that Maven follows to build your project.

## What is a Build Lifecycle?

A **build lifecycle** is a sequence of phases that Maven goes through to build your project. Each phase represents a stage in the build process.

Think of it like building a house:
1. Clear the land (clean)
2. Pour foundation (validate)
3. Build walls (compile)
4. Install plumbing (test)
5. Add roof (package)
6. Move in (install)

Maven does something similar for your code.

## Maven's Three Lifecycles

Maven has three built-in lifecycles:

### 1. clean

Removes all files generated by the previous build.

**Phases:**
- **pre-clean** - Execute processes needed prior to cleaning
- **clean** - Remove files generated at build time
- **post-clean** - Execute processes needed to finalize the cleaning

**Common use:**
\`\`\`bash
mvn clean
\`\`\`

This deletes the \`target\` directory.

### 2. default (or build)

The main lifecycle for building your project.

**Key Phases (in order):**

1. **validate** - Validate the project is correct
2. **compile** - Compile the source code
3. **test** - Run tests using a unit test framework
4. **package** - Take the compiled code and package it (JAR, WAR, etc.)
5. **verify** - Run checks to verify the package is valid
6. **install** - Install the package into local repository
7. **deploy** - Copy the package to remote repository

### 3. site

Generate project documentation and reports.

**Phases:**
- **pre-site** - Execute processes needed prior to site generation
- **site** - Generate project's site documentation
- **post-site** - Execute processes needed to finalize site generation
- **site-deploy** - Deploy the generated site to server

## How Phases Work

When you run a phase, Maven executes:
1. That phase
2. All previous phases in the lifecycle

**Example:**
\`\`\`bash
mvn package
\`\`\`

This executes:
1. validate
2. compile
3. test
4. package

It does NOT execute install or deploy.

## Common Maven Commands

### mvn clean

\`\`\`bash
mvn clean
\`\`\`

- Deletes the \`target\` directory
- Removes all compiled classes and generated files
- Use this when you want a fresh build

### mvn compile

\`\`\`bash
mvn compile
\`\`\`

- Compiles your source code
- Puts compiled classes in \`target/classes\`
- Does NOT run tests
- Does NOT create JAR

### mvn test

\`\`\`bash
mvn test
\`\`\`

- Compiles source code
- Compiles test code
- Runs all tests
- Generates test reports in \`target/surefire-reports\`

### mvn package

\`\`\`bash
mvn package
\`\`\`

- Compiles code
- Runs tests
- Packages into JAR/WAR/EAR
- Creates file in \`target\` directory
- Example: \`target/my-app-1.0.jar\`

### mvn install

\`\`\`bash
mvn install
\`\`\`

- Does everything \`package\` does
- Installs the artifact to local Maven repository
- Location: \`~/.m2/repository\`
- Makes it available for other projects on your machine

### mvn deploy

\`\`\`bash
mvn deploy
\`\`\`

- Does everything \`install\` does
- Deploys to remote repository
- Requires repository configuration in pom.xml
- Used for sharing with team or publishing

### mvn clean install

\`\`\`bash
mvn clean install
\`\`\`

- Combines two lifecycles
- First runs \`clean\` lifecycle
- Then runs \`default\` lifecycle up to \`install\`
- Most common command for building projects

### mvn clean package

\`\`\`bash
mvn clean package
\`\`\`

- Cleans previous build
- Compiles, tests, and packages
- Does NOT install to local repository

## Real-World Examples

### Example 1: Daily Development

**During development:**
\`\`\`bash
mvn compile
\`\`\`

Quick compilation to check for errors. Fast feedback.

### Example 2: Before Committing Code

**Before git commit:**
\`\`\`bash
mvn clean test
\`\`\`

Clean build and run all tests. Make sure everything works.

### Example 3: Creating Release

**For production build:**
\`\`\`bash
mvn clean package
\`\`\`

Creates the JAR/WAR file for deployment.

### Example 4: Installing Library

**When building a library:**
\`\`\`bash
mvn clean install
\`\`\`

Installs to local repository so other projects can use it.

## Skipping Tests

Sometimes you want to build without running tests:

\`\`\`bash
mvn clean package -DskipTests
\`\`\`

Or:

\`\`\`bash
mvn clean package -Dmaven.test.skip=true
\`\`\`

**Difference:**
- \`-DskipTests\` - Compiles tests but doesn't run them
- \`-Dmaven.test.skip=true\` - Skips test compilation entirely

## Understanding the Output

When you run \`mvn package\`, you'll see:

\`\`\`
[INFO] Scanning for projects...
[INFO] 
[INFO] ---< com.example:my-app >---
[INFO] Building my-app 1.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:3.3.0:resources (default-resources) @ my-app ---
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:compile (default-compile) @ my-app ---
[INFO] Changes detected - recompiling the module
[INFO] Compiling 1 source file to target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.3.0:testResources (default-testResources) @ my-app ---
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:testCompile (default-testCompile) @ my-app ---
[INFO] Compiling 1 source file to target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0:test (default-test) @ my-app ---
[INFO] Running com.example.AppTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] --- maven-jar-plugin:3.3.0:jar (default-jar) @ my-app ---
[INFO] Building jar: target/my-app-1.0-SNAPSHOT.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
\`\`\`

This shows each phase executing:
1. Resources copied
2. Code compiled
3. Tests compiled
4. Tests run
5. JAR created
6. BUILD SUCCESS

## Common Mistakes

### Mistake 1: Running Wrong Phase

**Wrong:**
\`\`\`bash
mvn compile  # Only compiles, doesn't create JAR
# Then trying to run the JAR that doesn't exist
\`\`\`

**Correct:**
\`\`\`bash
mvn package  # Compiles, tests, and creates JAR
\`\`\`

### Mistake 2: Not Cleaning

**Problem:**
Old compiled classes causing issues.

**Solution:**
\`\`\`bash
mvn clean package
\`\`\`

### Mistake 3: Skipping Tests in Production

**Wrong:**
\`\`\`bash
mvn clean package -DskipTests  # In production build
\`\`\`

**Correct:**
Always run tests before production builds.

## Summary

Maven has three lifecycles:
- **clean** - Remove build artifacts
- **default** - Build the project
- **site** - Generate documentation

Key phases (in order):
1. validate
2. compile
3. test
4. package
5. install
6. deploy

Common commands:
- \`mvn clean\` - Delete target directory
- \`mvn compile\` - Compile source code
- \`mvn test\` - Run tests
- \`mvn package\` - Create JAR/WAR
- \`mvn install\` - Install to local repo
- \`mvn clean install\` - Most common command

Remember: Running a phase executes all previous phases automatically.

Next, let's learn about Maven repositories!
`
};

export default mavenBuildLifecycle;

